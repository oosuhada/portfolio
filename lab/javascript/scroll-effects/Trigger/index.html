<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>basic</title>
    <style>
        *{margin: 0; padding: 0;}
        a{color: #fff; text-decoration: none;}
        body{color: #fff; font-weight: 300; background-color: #111;}
        #parallax__cont{overflow: hidden;}
        .parallax__item{width: 100%; height: 100vh; position: relative; display: flex; align-items: center; justify-content: center;}
        .parallax__item:nth-child(2n){background-color: #222;}
        .parallax__item__num{position: absolute; right: 20px; bottom: 20px; font-size: 5vw; line-height: 1;}
        .parallax__item__img{width: 10vw; height: 10vw; background-color: #fff; background-size: cover; background-position: center;}
        .parallax__item:nth-child(1) .parallax__item__img{background-image: url(../images/img1.jpg);}
        .parallax__item:nth-child(2) .parallax__item__img{background-image: url(../images/img2.jpg);}
        .parallax__item:nth-child(3) .parallax__item__img{background-image: url(../images/img3.jpg);}
        .parallax__item:nth-child(4) .parallax__item__img{background-image: url(../images/img4.jpg);}
        .parallax__item:nth-child(5) .parallax__item__img{background-image: url(../images/img5.jpg);}
        .parallax__item:nth-child(6) .parallax__item__img{background-image: url(../images/img1.jpg);}
        .parallax__item:nth-child(7) .parallax__item__img{background-image: url(../images/img1.jpg);}
        .parallax__item:nth-child(8) .parallax__item__img{background-image: url(../images/img2.jpg);}
        .parallax__item:nth-child(9) .parallax__item__img{background-image: url(../images/img3.jpg);}
        .parallax__item__img.active{filter: hue-rotate(100)}
    </style>
</head>
<body>
    <main id="parallax__cont">
        <section id="section1" class="parallax__item">
            <span class="parallax__item__num">01</span>
            <div class="parallax__item__img"></div>
        </section>
        <section id="section2" class="parallax__item">
            <span class="parallax__item__num">02</span>
            <div class="parallax__item__img"></div>
        </section>
        <section id="section3" class="parallax__item">
            <span class="parallax__item__num">03</span>
            <div class="parallax__item__img"></div>
        </section>
        <section id="section4" class="parallax__item">
            <span class="parallax__item__num">04</span>
            <div class="parallax__item__img"></div>
        </section>
        <section id="section5" class="parallax__item">
            <span class="parallax__item__num">05</span>
            <div class="parallax__item__img"></div>
        </section>
        <section id="section6" class="parallax__item">
            <span class="parallax__item__num">06</span>
            <div class="parallax__item__img"></div>
        </section>
        <section id="section7" class="parallax__item">
            <span class="parallax__item__num">07</span>
            <div class="parallax__item__img"></div>
        </section>
        <section id="section8" class="parallax__item">
            <span class="parallax__item__num">08</span>
            <div class="parallax__item__img"></div>
        </section>
        <section id="section9" class="parallax__item">
            <span class="parallax__item__num">09</span>
            <div class="parallax__item__img"></div>
        </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js"></script>
    <script>
        const box1=document.querySelector("#section1 .parallax__item__img");
        const box2=document.querySelector("#section2 .parallax__item__img");
        const box3=document.querySelector("#section3 .parallax__item__img");
        const box4=document.querySelector("#section4 .parallax__item__img");
        const box5=document.querySelector("#section5 .parallax__item__img");
        const box6=document.querySelector("#section6 .parallax__item__img");
        const box7=document.querySelector("#section7 .parallax__item__img");
        const box8=document.querySelector("#section8 .parallax__item__img");
        const box9=document.querySelector("#section9 .parallax__item__img");

        gsap.to(box1,{
            duration: 2,
            x: 500,
            borderRadius: 100,
            rotation: 360
        })

        gsap.to(box2,{
            duration: 2,
            x: 500,
            borderRadius: 100,
            rotation: 360,
            scrollTrigger:{
                trigger: box2
            }
        })
        gsap.to(box3,{
            duration: 2,
            x: 500,
            borderRadius: 100,
            rotation: 360,
            scrollTrigger:{
                trigger: box3,
                toggleActions: "play none reverse none"
            }
        })
        gsap.to(box4,{
            duration: 2,
            x: 500,
            borderRadius: 100,
            rotation: 360,
            scrollTrigger:{
                trigger: box4,
                toggleActions: "play none reverse none",
                start: 'top 50%',
                end: 'bottom 20%', // 오타 수정: botttom → bottom
            }
        })
        gsap.to(box5,{
            duration: 2,
            x: 500,
            borderRadius: 100,
            rotation: 360,
            scrollTrigger:{
                trigger: box5,
                start: 'top 50%',
                end: 'bottom 20%', // 오타 수정
                scrub: true,
            }
        })
        gsap.to(box6,{
            duration: 2,
            x: 500,
            borderRadius: 100,
            rotation: 360,
            scrollTrigger:{
                trigger: box6,
                start: 'top 50%',
                end: 'bottom 20%',
                scrub: true,
                pin: true,
                markers: true,
                anticipatePin: 1, // anticipaterPin → anticipatePin
            }
        })
        gsap.to(box7,{
            duration: 2,
            x: 500,
            borderRadius: 100,
            rotation: 360,
            scrollTrigger:{
                trigger: box7,
                start: 'top 50%',
                end: 'bottom 20%',
                scrub: true,
                pin: true,
                id: "box7",
                anticipatePin: 1,
            }
        })
        gsap.to(box8,{
            duration: 2,
            x: 500,
            borderRadius: 100,
            rotation: 360,
            scrollTrigger:{
                trigger: box8,
                start: 'top 50%',
                end: 'bottom 20%',
                scrub: true,
                pin: true,
                markers: true,
                id: "box8",
                onEnter:()=>{console.log("onEnter")},
                onLeave:()=>{console.log("onLeave")},
                onEnterBack:()=>{console.log("onEnterBack")},
                onLeaveBack:()=>{console.log("onLeaveBack")},
                anticipatePin: 1,
            }
        })
    </script>
</body>
</html>
