:root {
  --main-pink: #FFA4D3;
  --gray-main: #222;
  --gray-sub: #444;
  --gray-border: #e1e1e1;
  --gray-bg: #fafafb;
  --gray-card: #fff;
  --gray-dot: #bbb;
  --gray-tag: #f0f0f0;
  --gray-tag-hover: #bbb;
}

#top-sentinel {
  height: 1px;
  width: 100%;
  pointer-events: none;
}

.nav-header.experience-header-hidden-override {
  opacity: 0 !important;
  visibility: hidden !important;
  transform: translateY(-100%) !important;
  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out, visibility 0.3s ease-in-out !important;
}

/* ====================== Hero 영역 ====================== */
.hero-section-winery {
  position: relative;
  width: 100%;
  height: 60vh; /* 또는 원하는 초기 높이 */
  min-height: 600px;
  display: flex; /* 내부 .hero-content 중앙 정렬용 */
  align-items: center;
  justify-content: center;
}

.hero-winery-bg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #000;
  will-change: transform;
  transition: transform 2.5s cubic-bezier(.25,1,.5,1);
  z-index: 1;
  /* Flexbox로 내부 비디오와 클릭 캐처를 중앙 정렬하고 꽉 채움 */
  display: flex;
  align-items: center;
  justify-content: center;
}

.hero-winery-bg video#heroVideo {
  position: absolute; /* .hero-winery-bg를 기준으로 절대 위치 */
  top: 0;
  left: 0;
  width: 100%;    /* 부모(.hero-winery-bg) 크기에 맞춤 */
  height: 100%;   /* 부모(.hero-winery-bg) 크기에 맞춤 */
  object-fit: cover; /* 비율 유지하며 꽉 채움 */
  z-index: 1; /* 클릭 캐처보다 아래에 있도록 명시 (선택 사항) */
}

.hero-content {
  position: relative;
  z-index: 10; /* 스크롤 버튼 등이 최상단에 오도록 */
  /* ... (기존 .hero-content 스타일) ... */
  width: 100%;
  text-align: center;
  color: #fff;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
}

.scroll-down-btn {
  position: absolute;
  bottom: 20px;
  color: #fff;
  font-size: 2rem;
  z-index: 10; 
  cursor: pointer;
  animation: bounce 2s infinite;
  padding: 10px 14px;
  border-radius: 50%;
  background-color: rgba(0,0,0,0.2);
  transition: background-color 0.3s, opacity 0.3s, visibility 0.3s;
  opacity: 0; 
  visibility: hidden;
}
.scroll-down-btn:hover { background-color: rgba(0,0,0,0.4); }

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-10px); }
  60% { transform: translateY(-5px); }
}

/* 더 이상 사용되지 않는 heroScrollGauge, hero-cloud 관련 스타일 제거 */

.experience-content-wrapper {
  position: relative;
  z-index: 3; 
  background: #fff;
}

.video-speed-badge {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(1);
  background: rgba(0,0,0,0.82);
  color: #fff;
  padding: 10px 22px;
  border-radius: 12px;
  font-size: 2rem;
  font-weight: bold;
  z-index: 99999; /* 매우 높은 z-index로 다른 요소 위에 표시 */
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.22s cubic-bezier(.6,2.1,.3,1), transform 0.45s cubic-bezier(.17,.67,.83,.67);
}
.video-speed-badge.visible {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1.06);
}
.video-speed-badge.hide {
  opacity: 0;
  transform: translate(-50%, -50%) scale(0.96);
}

/* Hero 영역의 navHeader가 숨겨질 때 강제 적용 (필요 시 사용) */
/* .experience-header-hidden-override { */
  /* visibility: hidden !important; */
  /* opacity: 0 !important; */
  /* transition: visibility 0s 0.5s, opacity 0.5s ease !important; */
/* } */

/* 기존 .timeline-dot 에 dot-scrolled-into-view 클래스가 토글되므로, 해당 스타일이 정의되어 있는지 확인 */
/* .timeline-dot.dot-scrolled-into-view { */
  /* 예시: background-color: #yourHighlightColor; */
/* } */

/* ====================== 메인 영역 ====================== */
.experience-main {
  margin-top: 6.5rem;
  margin-bottom: 8rem;
  max-width: 1040px;
  margin-left: auto;
  margin-right: auto;
  padding: 0 3vw;
}

.section-top-gap { height: 4.5rem; }
.section-gap { margin-top: 7.5rem; }
.section-bottom-gap { height: 7rem; }

@media (max-width: 900px) {
  .experience-main { max-width: 98vw; padding: 0 1vw; }
  .section-gap { margin-top: 4.5rem; }
}

/* ====================== 메트릭 카드 ====================== */
.exp-metrics {
  display: flex;
  justify-content: center;
  gap: 1.8rem;
  margin: 0 auto;
  max-width: 950px;
  width: 100%;
}
.metric-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 1 1 0;
}
.metric-card.in-view {
  opacity: 1;
  transform: translateY(0) scale(1);
  transition: opacity 0.9s cubic-bezier(.19,1,.22,1), transform 0.75s cubic-bezier(.19,1,.22,1);
}
.metric-card:hover { transform: translateY(-8px) scale(1.035); }
.metric-value {
  color: var(--gray-main);
  font-size: 2.3rem;
  font-weight: 800;
  line-height: 1.0;
  margin-bottom: 0.7rem;
  letter-spacing: -0.02em;
  text-align: center;
}
.metric-value span {
  font-size: 1.13rem;
  font-weight: 700;
  color: #888;
  letter-spacing: -0.01em;
}
.metric-desc {
  color: #888;
  font-size: 1.08rem;
  font-weight: 600;
  margin-top: 0.2rem;
  text-align: center;
}
@media (max-width: 700px) {
  .exp-metrics { flex-direction: column; gap: 1.1rem; }
  .metric-card { min-width: 0; width: 100%; }
}

/* ====================== 좌우 배치 메인 ====================== */
.experience-row-wrap {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: center;
  width: 100%;
  gap: 3vw;
  max-width: 1080px;
  margin: 0 auto;
}

/* ====================== 왼쪽: 포도 성장 타임라인 ====================== */
.grape-visual-story-col {
  flex: 0 0 320px;
  display: flex;
  flex-direction: column;
  align-items: flex-start; 
  gap: 1.8rem; 
  padding-right: 1.2vw; 
  position: sticky; 
  top: 6.5rem; 
  height: fit-content; 
  z-index: 3;
}

.vine-gauge-and-text-wrapper {
  display: flex;
  flex-direction: row; 
  align-items: flex-start; 
  width: 100%;
}

#vineSideGauge {
  width: 22px;
  margin-right: 10px; 
  position: relative;
}

.vine-gauge-track-container {
  width: 100%;
  height: 100%; 
  position: relative;
}

.vine-gauge-stage-block { 
  width: 100%;
  background-color: var(--gray-dot);
  border-radius: 3px;
  transition: background-color 0.2s ease-in-out, height 0.3s ease-out;
  cursor: pointer;
}

.vine-gauge-thumb { 
  position: absolute;
  width: 100%;
  background-color: var(--main-pink);
  border-radius: 3px;
  transition: top 0.3s ease-out, height 0.3s ease-out, opacity 0.3s ease-out;
  opacity: 0; 
  pointer-events: none;
}


.fade-in-list {
  display: flex;
  flex-direction: column;
  font-size: 1.18rem;
  gap: 0.22em;
  flex-grow: 1; 
  width: 100%;
}

.fade-in-list > div {
  display: flex;
  align-items: center;
  gap: 10px;
  color: #bbb;
  opacity: 1;
  font-weight: 500;
  transform: translateY(16px);
  transition:
    color 0.35s cubic-bezier(.4,1,.5,1),
    opacity 0.7s cubic-bezier(.4,1,.5,1),
    transform 0.7s cubic-bezier(.4,1,.5,1);
  cursor: pointer; 
}

.fade-in-list > div span {
  color: inherit !important; 
  font-weight: 600;
  flex-grow: 1;
  text-align: left;
}

.embedded-gauge-block { 
  width: 22px; 
  min-height: 16px; 
  background-color: var(--gray-dot); 
  border-radius: 3px;
  transition: background-color 0.2s ease-in-out, height 0.3s ease-out;
  flex-shrink: 0; 
}

.fade-in-list > div.active .embedded-gauge-block {
  background-color: var(--main-pink);
}

.fade-in-list > div.active span {
  color: var(--main-pink, #FFA4D3) !important;
  font-weight: 700;
  letter-spacing: 0.03em;
  text-shadow: 0 2px 6px #ffa4d34a;
}

.fade-in-list .grape-divider {
  height: 1.2em;
  border-bottom: 1.5px dashed #bbb;
  margin: 0.8em 0 0.4em 0;
  width: 80%;
  opacity: 1;
}

.fade-in-list b {
  color: inherit !important; 
  font-size: 1.13em;
}

.grape-story-img-area {
  width: 100%; 
  display: flex;
  flex-direction: column;
  align-items: stretch; 
  justify-content: flex-start;
  margin-top: 1.8rem; 
}

.grape-story-img-area img {
  width: 98%;
  max-width: unset;
  min-width: 80px;
  height: auto;
  margin-top: 0.2em;
}

/* ====================== 오른쪽: 타임라인 영역 ====================== */
.timeline-outer {
  flex: 1 1 0;
  min-width: 0;
  z-index: 2;
  margin-top: 4.5rem;
  margin-left: 0;
  padding-left: 0.6rem;
  position: relative;
}

#education-section-header, #exp-section-header  {
  margin-top: 6rem; 
  padding-top: 6rem;  
}

.timeline-all { position: relative; }
.timeline-all::before {
  content: "";
  position: absolute;
  left: -2.1rem;
  top: 0;
  width: 4px;
  height: 100%;
  background: var(--gray-border);
  border-radius: 2px;
  z-index: 0;
}

.timeline-title {
  font-weight: 800;
  font-size: 1.14rem;
  margin-bottom: 0.05em;
  color: #222;
  letter-spacing: -0.01em;
}
.company {
  font-weight: 600;
  font-size: 1.09rem;
  color: #444;
  margin-bottom: 0.16em;
}
.timeline-date {
  font-size: 1.00rem;
  color: #b3b3b3;
  font-weight: 500;
  font-style: italic;
  margin-bottom: 0.13em;
}
.timeline-field {
  font-size: 1.01rem;
  color: #888;
  margin-bottom: 0.9em;
}
.timeline-desc {
  margin-top: 0.3em;
  margin-bottom: 1.2em;
  font-size: 1.07rem;
  line-height: 1.85;
  color: #414141;
  letter-spacing: -0.01em;
}

.timeline-header {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  margin-bottom: 1rem;
  cursor: pointer; 
}
.exp-title.center,
.exp-history-desc.center,
.exp-edu-desc.center {
  text-align: left;
  margin-left: 0;
  margin-right: auto;
}
.main-pink { 
  color: var(--main-pink) !important;
}
.exp-history-desc .plain-strong, .exp-edu-desc .plain-strong, .exp-history-desc strong, .exp-edu-desc strong  {
  color: #222 !important;
  font-weight: 700;
}

.exp-history-desc.center,
.exp-edu-desc.center,
.timeline-desc, .edu-desc {
  font-size: 1.10rem;
  color: #414141;
  line-height: 1.72;
  padding: 0;
  background: none;
}
.exp-history-desc.center, .exp-edu-desc.center {
    cursor: pointer;
}

.timeline-row, .edu-row {
  display: flex;
  position: relative;
  margin-bottom: 3.3rem;
  min-height: 160px;
  background: none;
  opacity: 0.7;
  transform: translateY(60px);
  transition: opacity 0.8s cubic-bezier(.12,1,.23,1), transform 0.8s cubic-bezier(.12,1,.23,1);
  cursor: pointer; 
}
.timeline-row.in-view, .edu-row.in-view {
  opacity: 1;
  transform: translateY(0);
  transition: all 0.72s cubic-bezier(.19,1,.22,1);
}
.timeline-row.active, .edu-row.active { opacity: 1.0; }

.timeline-dot {
  width: 22px; 
  height: 22px; 
  background-image: url('images/seed.png'); 
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  border: none;
  position: absolute;
  left: -2.75rem; 
  top: 11px;    
  z-index: 2;
  transition: box-shadow 0.19s, transform 0.25s ease-in-out; 
}
.timeline-row.active .timeline-dot,
.edu-row.active .timeline-dot {
  transform: rotate(45deg) scale(1.15); 
  transition: transform 0.22s cubic-bezier(.19,1,.22,1);
}
.timeline-dot:hover {
  transform: scale(1.25) !important;  
  z-index: 2;
  box-shadow: 0 0 0 4px rgba(120,60,170,0.10);
  transition: transform 0.15s cubic-bezier(.19,1,.22,1), box-shadow 0.13s;
}

.timeline-grid {
  display: grid;
  grid-template-columns: 1fr; 
  grid-template-rows: repeat(6, auto); 
  gap: 0.18em 0;
  width: 100%;
  padding-left: 1.1rem;
}
/* .timeline-title, .edu-title and other grid item styles should be defined here if not already covered by .timeline-title, .company etc. */
.timeline-title { grid-column: 1; grid-row: 1; font-weight: 700; font-size: 1.14rem; margin-bottom: 0.32em; }
.company { grid-column: 1; grid-row: 2; font-weight: 700; font-size: 1.10rem; color: #313a4d; margin-bottom: 1em; }
.timeline-date { grid-column: 1; grid-row: 3; color: #999; font-size: 1.06rem; font-weight: 500; margin-bottom: 0.19em; }
.timeline-field { grid-column: 1; grid-row: 4; color: #aaa; font-size: 1.01rem; margin-bottom: 0.4em; }
.timeline-desc { grid-column: 1; grid-row: 5; }
.timeline-tags { grid-column: 1; grid-row: 6; display: flex; flex-wrap: wrap; gap: 0.4em; margin-bottom: 0.2em; }


.timeline-tags span, .edu-tags span {
  display: inline-block;
  background: var(--gray-tag);
  color: #888;
  font-size: 1.01rem;
  font-weight: 600;
  border-radius: 1.3rem;
  padding: 0.19em 1.25em 0.23em 1.25em;
  margin-bottom: 0.2em;
  cursor: pointer;
  opacity: 1 !important;
  transition: background 0.2s, color 0.18s;
}
.timeline-tags span:hover, .timeline-tags span.active,
.edu-tags span:hover, .edu-tags span.active {
  background: var(--gray-tag-hover);
  color: #fff;
}

.timeline-row:not(.active) .timeline-title,
.timeline-row:not(.active) .company,
.edu-row:not(.active) .edu-title, /* Assuming .edu-title exists or use .timeline-title */
.timeline-row:not(.active) .timeline-tags span,
.edu-row:not(.active) .edu-tags span {
  opacity: 0.7;
}


.timeline-chunk {
  cursor: pointer;
  transition: text-decoration 0.15s;
}
.timeline-chunk:hover {
  text-decoration: underline;
  text-underline-offset: 0.22em;
  text-decoration-thickness: 2px;
}

/* ====================== 하단 와인 문구 ====================== */
.grape-footer-quote {
  flex-direction: column; 
  align-items: center; 
  justify-content: center; 
  gap: 1.8rem;
  padding: 12rem 2.4rem 8rem 2.4rem;
  border-radius: 1.8em;
  max-width: 700px;
  margin: 5.4rem auto 1.6rem auto;
  position: relative;  
  display: flex; 
  min-height: 440px; 
}
.footer-image-container {
  position: relative;
  display: inline-block; 
}
.grape-footer-img {
  display: block;
  width: 600px; 
  max-width: 800px;
  min-width: 200px;
  height: auto;
  transition: transform 0.7s cubic-bezier(.22,1,.36,1), box-shadow 0.7s cubic-bezier(.22,1,.36,1);
  transform: scale(1.2);
}
.footer-overlay-image { 
  position: absolute;
  right: 100%; 
  bottom: 100%;
  margin-right: 5px; 
  margin-bottom: 5px; 
  width: 40px;   
  height: auto;
  z-index: 1; 
  opacity: 0; 
  transition: opacity 0.3s ease-in-out;
}
.grape-footer-img.zoomed-in { transform: scale(1.5); }
.grape-footer-img.zoomed-out { transform: scale(1.2); }

.grape-footer-text {
  position: absolute;
  left: 0; right: 0;
  top: 105%;
  transform: translate(-1%, -50%);
  margin: 0 auto;
  width: 100%;
  text-align: center;
  font-size: 1.2rem;
  line-height: 1.2;
  color: #fff;
  background: rgba(32,32,32,0.5);
  border-radius: 6px;
  padding: 0.8rem 1rem 0.8rem 1rem;
  box-shadow: 0 6px 32px rgba(0,0,0,0.15);
  z-index: 2;
  pointer-events: none;
  font-weight: 500;
}

@media (max-width: 700px) {
  .grape-footer-quote { padding: 2.0rem 0.6rem 4rem 0.6rem; max-width: 96vw; }
  .grape-footer-img { width: 120px; }
  .footer-overlay-image { width: 25px; margin-right: 3px; margin-bottom: 3px; }
  .grape-footer-text { font-size: 1.05rem; }
}